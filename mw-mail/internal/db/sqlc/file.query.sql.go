// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.27.0
// source: file.query.sql

package db

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const createMail = `-- name: CreateMail :one
INSERT INTO mail_logs (
    from_mail,
    from_name,
    recipients,
    cc,
    bcc,
    subject,
    message,
    log
)
VALUES (
    $1,
    $2,
    $3,
    $4,
    $5,
    $6,
    $7,
    $8
)
RETURNING
    uuid,
    from_mail,
    recipients,
    subject,
    message
`

type CreateMailParams struct {
	FromMail   string      `json:"from_mail"`
	FromName   pgtype.Text `json:"from_name"`
	Recipients []string    `json:"recipients"`
	Cc         []string    `json:"cc"`
	Bcc        []string    `json:"bcc"`
	Subject    string      `json:"subject"`
	Message    string      `json:"message"`
	Log        string      `json:"log"`
}

type CreateMailRow struct {
	Uuid       pgtype.UUID `json:"uuid"`
	FromMail   string      `json:"from_mail"`
	Recipients []string    `json:"recipients"`
	Subject    string      `json:"subject"`
	Message    string      `json:"message"`
}

func (q *Queries) CreateMail(ctx context.Context, arg CreateMailParams) (CreateMailRow, error) {
	row := q.db.QueryRow(ctx, createMail,
		arg.FromMail,
		arg.FromName,
		arg.Recipients,
		arg.Cc,
		arg.Bcc,
		arg.Subject,
		arg.Message,
		arg.Log,
	)
	var i CreateMailRow
	err := row.Scan(
		&i.Uuid,
		&i.FromMail,
		&i.Recipients,
		&i.Subject,
		&i.Message,
	)
	return i, err
}
