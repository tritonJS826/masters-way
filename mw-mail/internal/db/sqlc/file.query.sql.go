// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.27.0
// source: file.query.sql

package db

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const createMail = `-- name: CreateMail :one
INSERT INTO mail_logs (
    from_email,
    from_name,
    recipients,
    cc,
    bcc,
    subject,
    message,
    html_message,
    log
)
VALUES (
    $1,
    $2,
    $3,
    $4,
    $5,
    $6,
    $7,
    $8,
    $9
)
RETURNING
    uuid,
    from_email,
    recipients,
    subject,
    message,
    html_message
`

type CreateMailParams struct {
	FromEmail   string      `json:"from_email"`
	FromName    pgtype.Text `json:"from_name"`
	Recipients  []string    `json:"recipients"`
	Cc          []string    `json:"cc"`
	Bcc         []string    `json:"bcc"`
	Subject     string      `json:"subject"`
	Message     pgtype.Text `json:"message"`
	HtmlMessage pgtype.Text `json:"html_message"`
	Log         string      `json:"log"`
}

type CreateMailRow struct {
	Uuid        pgtype.UUID `json:"uuid"`
	FromEmail   string      `json:"from_email"`
	Recipients  []string    `json:"recipients"`
	Subject     string      `json:"subject"`
	Message     pgtype.Text `json:"message"`
	HtmlMessage pgtype.Text `json:"html_message"`
}

func (q *Queries) CreateMail(ctx context.Context, arg CreateMailParams) (CreateMailRow, error) {
	row := q.db.QueryRow(ctx, createMail,
		arg.FromEmail,
		arg.FromName,
		arg.Recipients,
		arg.Cc,
		arg.Bcc,
		arg.Subject,
		arg.Message,
		arg.HtmlMessage,
		arg.Log,
	)
	var i CreateMailRow
	err := row.Scan(
		&i.Uuid,
		&i.FromEmail,
		&i.Recipients,
		&i.Subject,
		&i.Message,
		&i.HtmlMessage,
	)
	return i, err
}
