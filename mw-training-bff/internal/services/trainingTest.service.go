package services

import (
	"context"

	pb "mw-training-bff/pkg/grpcAutogenerated/training"
)

type TrainingTestService struct {
	trainingTestGRPC pb.TrainingTestsServiceClient
}

func NewTrainingTestService(trainingTestGRPC pb.TrainingTestsServiceClient) *TrainingTestService {
	return &TrainingTestService{trainingTestGRPC}
}

type CreateTrainingTestParams struct {
	TrainingUuid  string
	TestUuid      string
	TestOwnerUuid string
}

func (s *TrainingTestService) CreateTrainingTest(ctx context.Context, params *CreateTrainingTestParams) error {
	_, err := s.trainingTestGRPC.CreateTrainingTest(ctx, &pb.CreateTrainingTestRequest{
		TrainingUuid:  params.TrainingUuid,
		TestUuid:      params.TestUuid,
		TestOwnerUuid: params.TestOwnerUuid,
	})
	if err != nil {
		return err
	}

	return nil
}
