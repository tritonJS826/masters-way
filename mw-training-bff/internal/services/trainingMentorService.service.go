package services

import (
	"context"

	pb "mw-training-bff/pkg/grpcAutogenerated/training"
)

type TrainingMentorService struct {
	trainingMentorGRPC pb.TrainingMentorServiceClient
}

func NewTrainingMentorService(
	trainingMentorGRPC pb.TrainingMentorServiceClient,
) *TrainingMentorService {
	return &TrainingMentorService{trainingMentorGRPC}
}

type CreateTrainingMentorParams struct {
	TrainingUuid string
	MentorUuid   string
}

func (tss *TrainingMentorService) CreateTrainingMentor(ctx context.Context, params *CreateTrainingMentorParams) error {
	_, err := tss.trainingMentorGRPC.CreateTrainingMentor(ctx, &pb.CreateTrainingMentorRequest{
		TrainingUuid: params.TrainingUuid,
		MentorUuid:   params.MentorUuid,
	})
	if err != nil {
		return err
	}

	return nil
}

type DeleteTrainingMentorParams struct {
	TrainingUuid string
	MentorUuid   string
}

func (tts *TrainingMentorService) DeleteTrainingMentorByIds(ctx context.Context, params *DeleteTrainingMentorParams) error {
	_, err := tts.trainingMentorGRPC.DeleteTrainingMentor(ctx, &pb.DeleteTrainingMentorRequest{
		TrainingUuid: params.TrainingUuid,
		MentorUuid:   params.MentorUuid,
	})
	if err != nil {
		return err
	}

	return nil
}
