package services

import (
	openapiStorage "mw-chat-bff/apiAutogenerated/mw-storage"

	"github.com/gin-gonic/gin"
)

type FileService struct {
	fileAPI *openapiStorage.APIClient
}

func NewFileService(fileAPI *openapiStorage.APIClient) *FileService {
	return &FileService{fileAPI}
}

func (cs *FileService) UploadFile(ctx *gin.Context) (string, error) {
	// srcFile, err := file.Open()
	// if err != nil {
	// 	return "", err
	// }
	// defer srcFile.Close()

	filePreviewRaw, _, err := cs.fileAPI.FileAPI.UploadFile(ctx).
	if err != nil {
		return "", nil
	}

	// filePreview := schemas.GetRoomPreviewResponse{
	// 	UnreadMessagesAmount: filePreviewRaw.UnreadMessagesAmount,
	// }

	return "", nil
}
