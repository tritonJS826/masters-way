package controllers

import (
	"context"
	"mw-notification/internal/services"
	pb "mw-notification/pkg/grpcAutoGenerated/notification"

	"google.golang.org/protobuf/types/known/emptypb"
)

type DevController struct {
	devService *services.DevService
	pb.UnimplementedDevServer
}

func NewDevController(devService *services.DevService) *DevController {
	return &DevController{devService: devService}
}

func (dc *DevController) ResetDB(ctx context.Context, in *emptypb.Empty) (*emptypb.Empty, error) {
	err := dc.devService.ResetDB(ctx)
	if err != nil {
		return nil, err
	}

	return &emptypb.Empty{}, nil
}
