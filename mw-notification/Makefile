build: ## Build the project
	@echo "Building the project..."
	go build -o main cmd/notification/main.go

start: ## Run the project
	go run cmd/notification/main.go

test: ## Run all tests
	go test ./...

db-run: ## Start the database using Docker
	docker-compose -f notificationPostgres.docker-compose.yaml up

install: ## Install dependencies
	go mod tidy

swag: ## Generate swagger specification
	swag init -g cmd/notification/main.go

proto: ## Generate gRPC files
	@echo "Generating gRPC files..."
	protoc \
		--go_out=pkg/grpcAutoGenerated/notification \
		--go_opt=paths=source_relative \
		--go-grpc_out=pkg/grpcAutoGenerated/notification \
		--go-grpc_opt=paths=source_relative \
		proto/notification.proto
	@echo "gRPC files generated in pkg/grpcAutoGenerated/notification"


db-schema: ## Generate db schema
	sqlc generate

help: ## Display help message
	@echo "Available targets:"
	@awk 'BEGIN {FS = ":.*?## "} /^[a-zA-Z_-]+:.*?## / {printf "  %-15s %s\n", $$1, $$2}' Makefile
