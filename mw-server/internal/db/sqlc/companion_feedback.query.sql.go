// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: companion_feedback.query.sql

package db

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const createCompanionFeedback = `-- name: CreateCompanionFeedback :one
INSERT INTO companion_feedback(
    way_uuid,
    status,
    comment,
    character,
    last_updated_at
) VALUES (
    $1,
    $2,
    $3,
    $4,
    $5
) RETURNING uuid
`

type CreateCompanionFeedbackParams struct {
	WayUuid       pgtype.UUID      `json:"way_uuid"`
	Status        int32            `json:"status"`
	Comment       string           `json:"comment"`
	Character     string           `json:"character"`
	LastUpdatedAt pgtype.Timestamp `json:"last_updated_at"`
}

func (q *Queries) CreateCompanionFeedback(ctx context.Context, arg CreateCompanionFeedbackParams) (pgtype.UUID, error) {
	row := q.db.QueryRow(ctx, createCompanionFeedback,
		arg.WayUuid,
		arg.Status,
		arg.Comment,
		arg.Character,
		arg.LastUpdatedAt,
	)
	var uuid pgtype.UUID
	err := row.Scan(&uuid)
	return uuid, err
}

const getCompanionFeedbackByWayId = `-- name: GetCompanionFeedbackByWayId :one
SELECT
    uuid,
    way_uuid,
    status,
    comment,
    character,
    language,
    last_updated_at
FROM companion_feedback
WHERE way_uuid = $1
`

func (q *Queries) GetCompanionFeedbackByWayId(ctx context.Context, wayUuid pgtype.UUID) (CompanionFeedback, error) {
	row := q.db.QueryRow(ctx, getCompanionFeedbackByWayId, wayUuid)
	var i CompanionFeedback
	err := row.Scan(
		&i.Uuid,
		&i.WayUuid,
		&i.Status,
		&i.Comment,
		&i.Character,
		&i.Language,
		&i.LastUpdatedAt,
	)
	return i, err
}

const updateCompanionFeedback = `-- name: UpdateCompanionFeedback :one
UPDATE companion_feedback SET
    status = $1,
    comment = $2,
    character = $3,
    last_updated_at = $4
WHERE way_uuid = $5
RETURNING uuid
`

type UpdateCompanionFeedbackParams struct {
	Status        int32            `json:"status"`
	Comment       string           `json:"comment"`
	Character     string           `json:"character"`
	LastUpdatedAt pgtype.Timestamp `json:"last_updated_at"`
	WayUuid       pgtype.UUID      `json:"way_uuid"`
}

func (q *Queries) UpdateCompanionFeedback(ctx context.Context, arg UpdateCompanionFeedbackParams) (pgtype.UUID, error) {
	row := q.db.QueryRow(ctx, updateCompanionFeedback,
		arg.Status,
		arg.Comment,
		arg.Character,
		arg.LastUpdatedAt,
		arg.WayUuid,
	)
	var uuid pgtype.UUID
	err := row.Scan(&uuid)
	return uuid, err
}

const upsertCompanionFeedback = `-- name: UpsertCompanionFeedback :one
INSERT INTO companion_feedback(
    way_uuid,
    status,
    comment,
    character,
    language,
    last_updated_at
) VALUES (
    $1,
    $2,
    $3,
    $4,
    $5,
    $6
) ON CONFLICT (way_uuid) DO UPDATE SET
    status = EXCLUDED.status,
    comment = EXCLUDED.comment,
    character = EXCLUDED.character,
    language = EXCLUDED.language,
    last_updated_at = EXCLUDED.last_updated_at
RETURNING uuid
`

type UpsertCompanionFeedbackParams struct {
	WayUuid       pgtype.UUID      `json:"way_uuid"`
	Status        int32            `json:"status"`
	Comment       string           `json:"comment"`
	Character     string           `json:"character"`
	Language      string           `json:"language"`
	LastUpdatedAt pgtype.Timestamp `json:"last_updated_at"`
}

func (q *Queries) UpsertCompanionFeedback(ctx context.Context, arg UpsertCompanionFeedbackParams) (pgtype.UUID, error) {
	row := q.db.QueryRow(ctx, upsertCompanionFeedback,
		arg.WayUuid,
		arg.Status,
		arg.Comment,
		arg.Character,
		arg.Language,
		arg.LastUpdatedAt,
	)
	var uuid pgtype.UUID
	err := row.Scan(&uuid)
	return uuid, err
}
