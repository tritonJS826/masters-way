import {DayReportDTOToDayReport} from "src/DAL/DTOToPreviewConverter/dayReportDTOToDayReport";
import {DayReport} from "src/model/businessModel/DayReport";
import {DayReportService} from "src/serviceUpdated/DayReportService";

/**
 * Provides methods to interact with the DayReport business model
 */
export class DayReportDAL {

  /**
   * Create DayReport with empty fields and autogenerated uuid
   */
  public static async createDayReport(wayUuid: string): Promise<DayReport> {
    const dayReportDTO = await DayReportService.createDayReport({
      request: {
        isDayOff: false,
        wayUuid,
      },
    });

    const dayReport = DayReportDTOToDayReport(dayReportDTO);

    return dayReport;
  }

  /**
   * Update DayReport
   */
  public static async updateDayReport(dayReport: DayReport) {
    await DayReportService.updateDayReport({
      dayReportId: dayReport.uuid,
      request: {isDayOff: dayReport.isDayOff},
    });
  }

}
