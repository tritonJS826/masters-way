import {SchemasCompositeWayRelation} from "src/apiAutogenerated/general";
import {CompositeWayService} from "src/service/CompositeWayService";

/**
 * All ways params
 */
export interface CompositeWayParams {

  /**
   * Ways amount
   */
  childWayUuid: string;

  /**
   * Array of way preview
   */
  parentWayUuid: string;
}

/**
 * Provides methods to interact with the CompositeWay
 */
export class CompositeWayDAL {

  /**
   * Add way to composite way
   */
  public static async addWayToComposite(params: CompositeWayParams): Promise<SchemasCompositeWayRelation> {
    const compositeWayRelation = await CompositeWayService.addWayToComposite({
      request: {
        childWayUuid: params.childWayUuid,
        parentWayUuid: params.parentWayUuid,
      },
    });

    return compositeWayRelation;

  }

  /**
   * Delete way from composite way
   */
  public static async deleteWayFromComposite(params: CompositeWayParams): Promise<void> {
    await CompositeWayService.deleteWayFromComposite({
      childWayId: params.childWayUuid,
      parentWayId: params.parentWayUuid,
    });

  }

}
