import {MwTrainingBffInternalSchemasTopic} from "src/apiAutogenerated/training";
import {practiceMaterialDTOToPracticeMaterial}
  from "src/dataAccessLogic/DTOToPreviewConverter/practiceMaterialDTOToPracticeMaterial";
import {theoryMaterialDTOToTheoryMaterial} from "src/dataAccessLogic/DTOToPreviewConverter/theoryMaterialDTOToTheoryMaterial";
import {userPreviewDTOToUserPreview} from "src/dataAccessLogic/DTOToPreviewConverter/userPreviewDTOToUserPreview";
import {Topic} from "src/model/businessModel/Topic";

// /**
//  * Map tree topics
//  */
// export const mapTreeTopics = (topicA: MwServerInternalSchemasMetricTreeNode): Topic => {

//   const mappedTopic = new Topic({
//     children: topicA.children.map(mapTreeTopics),
//     name: topicA.metric.description,
//     parentUuid: topicA.metric.parentUuid,
//     uuid: topicA.metric.uuid,
//     order,
//     createdAt,
//     owner,
//     practiceMaterialAmount,
//     theoryMaterialAmount,
//     trainingUuid,
//   });

//   return mappedTopic;
// };

/**
 * Convert {@link topicDTO} to {@link Topic}
 */
export const topicDTOToTopic = (
  topicDTO: MwTrainingBffInternalSchemasTopic,
): Topic => {
  return new Topic({
    ...topicDTO,
    createdAt: new Date(topicDTO.createdAt),
    // Children: topicDTO.topic.map(mapTreeTopics),
    children: [],
    practiceMaterials: topicDTO.practiceMaterials.map(practiceMaterialDTOToPracticeMaterial),
    theoryMaterials: topicDTO.theoryMaterials.map(theoryMaterialDTOToTheoryMaterial),
    owner: userPreviewDTOToUserPreview(topicDTO.owner),
  });
};
