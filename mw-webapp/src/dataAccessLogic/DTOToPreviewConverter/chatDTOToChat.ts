import {SchemasRoomPopulatedResponse} from "src/apiAutogenerated/chat";
import {chatUserDTOToChatUser} from "src/dataAccessLogic/DTOToPreviewConverter/chatUserDTOToChatUser";
import {messageDTOToMessage} from "src/dataAccessLogic/DTOToPreviewConverter/messageDTOToMessage";
import {Chat} from "src/model/businessModel/Chat";

/**
 * Convert {@link chatDTO} to {@link Chat}
 */
export const chatDTOToChat = (chatDTO: SchemasRoomPopulatedResponse): Chat => {
  return new Chat({
    ...chatDTO,
    users: chatDTO.users.map(chatUserDTOToChatUser),
    messages: chatDTO.messages.map(messageDTOToMessage),
  });
};
