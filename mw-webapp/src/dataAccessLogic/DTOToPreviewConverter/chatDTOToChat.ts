import {MwChatBffInternalSchemasRoomPopulatedResponse} from "src/apiAutogenerated/chat";
import {chatUserDTOToChatUser} from "src/dataAccessLogic/DTOToPreviewConverter/chatUserDTOToChatUser";
import {messageDTOToMessage} from "src/dataAccessLogic/DTOToPreviewConverter/messageDTOToMessage";
import {Room} from "src/model/businessModel/Chat";

/**
 * Convert {@link chatDTO} to {@link Room}
 */
export const chatDTOToChat = (chatDTO: MwChatBffInternalSchemasRoomPopulatedResponse): Room => {
  return new Room({
    ...chatDTO,
    users: chatDTO.users.map(chatUserDTOToChatUser),
    messages: chatDTO.messages.map(messageDTOToMessage),
  });
};
