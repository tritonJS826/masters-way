import {MwChatBffInternalSchemasMessageResponse} from "src/apiAutogenerated/chat";
import {messageReaderDTOToMessageReader} from "src/dataAccessLogic/DTOToPreviewConverter/messageReaderDTOToMessageReader";
import {Message} from "src/model/businessModel/Message";

/**
 * Convert {@link messageDTO} to {@link Message}
 */
export const messageDTOToMessage = (messageDTO: MwChatBffInternalSchemasMessageResponse): Message => {
  return new Message({
    ...messageDTO,
    messageReaders: messageDTO.messageReaders.map(messageReaderDTOToMessageReader),
    uuid: messageDTO.messageId,
  });
};
