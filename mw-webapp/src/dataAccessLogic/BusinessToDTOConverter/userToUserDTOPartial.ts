import {MwGeneralBffInternalSchemasUpdateUserPayload} from "src/apiAutogenerated/general";
import {deleteUndefinedFields} from "src/dataAccessLogic/BusinessToDTOConverter/deleteUndefinedFields";
import {User} from "src/model/businessModel/User";
import {PartialWithUuid} from "src/utils/PartialWithUuid";

/**
 * Convert {@link user} to {@link SchemasUpdateUserPayload}
 */
export const userToUserDTOPartial = (user: PartialWithUuid<User>): MwGeneralBffInternalSchemasUpdateUserPayload => {
  const userPartialDTO: MwGeneralBffInternalSchemasUpdateUserPayload = {
    name: user.name,
    description: user.description,
    imageUrl: user.imageUrl,
    isMentor: user.isMentor,
  };

  const preparedUserPartialDTO = deleteUndefinedFields(userPartialDTO);

  return preparedUserPartialDTO;
};
