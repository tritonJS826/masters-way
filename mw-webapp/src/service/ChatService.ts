import {
  AddUserToRoomRequest,
  DeleteUserFromRoomRequest,
  FindOrCreateRoomRequest,
  GetRoomByIdRequest,
  GetRoomsRequest,
  MwChatBffInternalSchemasGetRoomPreviewResponse,
  MwChatBffInternalSchemasGetRoomsResponse,
  MwChatBffInternalSchemasRoomPopulatedResponse,
  UpdateRoomRequest,
} from "src/apiAutogenerated/chat";
import {chat} from "src/service/services";

/**
 * Provides methods to interact with the chat
 */
export class ChatService {

  /**
   * Find or create chat room
   */
  public static async findOrCreateRoom(
    requestParameters: FindOrCreateRoomRequest,
  ): Promise<MwChatBffInternalSchemasRoomPopulatedResponse> {
    const room = await chat.findOrCreateRoom(requestParameters);

    return room;
  }

  /**
   * Add user to chat room
   */
  public static async addUserToRoom(
    requestParameters: AddUserToRoomRequest,
  ): Promise<MwChatBffInternalSchemasRoomPopulatedResponse> {
    const room = await chat.addUserToRoom(requestParameters);

    return room;
  }

  /**
   * Delete user from chat room
   */
  public static async deleteUserFromRoom(
    requestParameters: DeleteUserFromRoomRequest,
  ): Promise<MwChatBffInternalSchemasRoomPopulatedResponse> {
    const room = await chat.deleteUserFromRoom(requestParameters);

    return room;
  }

  /**
   * Get unread message amount in chat room
   */
  public static async getChatPreview(): Promise<MwChatBffInternalSchemasGetRoomPreviewResponse> {
    const unreadMessagesAmount = await chat.getChatPreview();

    return unreadMessagesAmount;
  }

  /**
   * Get chat room by ID
   */
  public static async getRoomById(
    requestParameters: GetRoomByIdRequest,
  ): Promise<MwChatBffInternalSchemasRoomPopulatedResponse> {
    const room = await chat.getRoomById(requestParameters);

    return room;
  }

  /**
   * Get chat rooms
   */
  public static async getRooms(
    requestParameters: GetRoomsRequest,
  ): Promise<MwChatBffInternalSchemasGetRoomsResponse> {
    const rooms = await chat.getRooms(requestParameters);

    return rooms;
  }

  /**
   * Update chat room
   */
  public static async updateRoom(
    requestParameters: UpdateRoomRequest,
  ): Promise<MwChatBffInternalSchemasRoomPopulatedResponse> {
    const roomUpdated = await chat.updateRoom(requestParameters);

    return roomUpdated;
  }

}
